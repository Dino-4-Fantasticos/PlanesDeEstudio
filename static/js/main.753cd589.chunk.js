(this["webpackJsonpplanes-de-estudio-itesm"]=this["webpackJsonpplanes-de-estudio-itesm"]||[]).push([[0],{291:function(e,a,t){},292:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),n=t(24),o=t.n(n),s=(t(149),t(14)),i=t(21),l=t(13),u=t.n(l),d=t(94),b=t(11),j=t(31),m=t(302),h=t(294),p=t(301),f=t(295),x=t(296),O=t(132),v="/PlanesDeEstudio",g="https://planes-de-estudio-backend.herokuapp.com/api";function N(e){return Object.keys(e).map((function(a){return a+"="+e[a]})).join("&")}var C=t(17),k=t.n(C),w=t(46),S=t.n(w),A="pde_id";function y(){return E.apply(this,arguments)}function E(){return(E=Object(i.a)(u.a.mark((function e(){var a,t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.a.get(A)){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,k.a.post("".concat(g,"/login/auth"),{token:S.a.get(A)}).catch((function(e){return e}));case 4:if(!((a=e.sent)instanceof Error)){e.next=7;break}return e.abrupt("return",a);case 7:return t=a.data.verification.matricula,e.next=10,k.a.get("".concat(g,"/users/").concat(t)).catch((function(e){return e}));case 10:if(!((r=e.sent)instanceof Error)){e.next=13;break}return e.abrupt("return",r);case 13:return e.abrupt("return",r.data);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e,a){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(u.a.mark((function e(a,t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(g,"/login/"),a).catch((function(e){return e}));case 2:if(!((r=e.sent)instanceof Error)){e.next=7;break}return c=r.response?r.response.data.msg:"Hubo un error de conexi\xf3n al servidor.",t("Error: ".concat(c),{appearance:"error",autoDismiss:!0}),e.abrupt("return");case 7:S.a.set(A,r.data.token,{expires:365}),window.location="".concat(v,"/#/");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=t.p+"static/media/logout_white_24dp.3b92f307.svg",D=c.a.createContext(),I=t(1);function F(e){var a=e.checarSesion,t=e.addToast,c=Object(r.useContext)(D),n=(c||{}).matricula,o=function(){var e=Object(i.a)(u.a.mark((function e(r){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.profileObj,e.next=3,J(c,t);case 3:a();case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(I.jsx)(m.a,{variant:"dark",className:"header-navbar p-0",expand:"md",height:56,children:Object(I.jsxs)(h.a,{fluid:!0,className:"fixed-top pr-3 pl-3",height:56,children:[Object(I.jsx)(m.a.Brand,{href:"".concat(v,"/#/"),children:Object(I.jsx)("h1",{children:" Planes de Estudio "})}),Object(I.jsx)(m.a.Toggle,{"aria-controls":"header-collapse"}),Object(I.jsxs)(m.a.Collapse,{id:"header-collapse",className:"justify-content-end",children:[c&&Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(p.a.Link,{href:"".concat(v,"/#/perfil/").concat(n),className:"element p-1",children:Object(I.jsxs)(f.a,{className:"d-flex p-1",children:[Object(I.jsxs)("div",{style:{lineHeight:"1em"},className:"flex-grow-1",children:["Ver",Object(I.jsx)("br",{}),"Perfil"]}),Object(I.jsx)(x.a,{className:"imagen-perfil",width:40,height:40,src:c.urlFoto,roundedCircle:!0})]})}),Object(I.jsx)(p.a.Link,{href:"".concat(v,"/#/"),className:"element p-1",children:Object(I.jsxs)(f.a,{onClick:function(){S.a.remove(A),window.location="".concat(v,"/#/"),a()},variant:"danger",className:"d-flex p-1",children:[Object(I.jsxs)("div",{style:{lineHeight:"1em"},children:["Cerrar",Object(I.jsx)("br",{}),"Sesi\xf3n"]}),Object(I.jsx)(x.a,{src:M,width:40,height:40,alt:"Cerrar sesi\xf3n"})]})})]}),!c&&Object(I.jsx)("div",{className:"element",children:Object(I.jsx)(O.GoogleLogin,{clientId:"78830882271-iabhrh1kgh03rbb0js65vh0iftf6jkjh.apps.googleusercontent.com",buttonText:"Iniciar sesi\xf3n",onSuccess:o,onFailure:function(e){return console.log(e)},cookiePolicy:"single_host_origin",prompt:"select_account"})})]})]})})}var G=t(133),U=t(297);function B(){return Object(I.jsx)(h.a,{className:"text-center",children:Object(I.jsxs)(G.a,{children:[Object(I.jsx)(U.a,{children:Object(I.jsx)(G.a,{children:Object(I.jsxs)("p",{children:["Creada por: ",Object(I.jsx)("a",{rel:"noreferrer",href:"https://github.com/Adrian-Garcia",target:"_blank",children:"Adri\xe1n Garc\xeda"}),", ",Object(I.jsx)("a",{rel:"noreferrer",href:"https://github.com/alegayndra",target:"_blank",children:"Alejandra Garc\xeda"}),", ",Object(I.jsx)("a",{rel:"noreferrer",href:"https://github.com/EstradaDiego99",target:"_blank",children:"Diego Estrada"})," & ",Object(I.jsx)("a",{rel:"noreferrer",href:"https://github.com/luispc111",target:"_blank",children:"Luis Alberto P\xe9rez"})]})})}),Object(I.jsx)(U.a,{className:"p-2",children:Object(I.jsx)(G.a,{children:Object(I.jsx)("a",{rel:"noreferrer",href:"https://github.com/luispc111/PlanesDeEstudio",target:"_blank",children:Object(I.jsx)(x.a,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=",alt:"Github link"})})})})]})})}var P=t(143),Z=t(303);function H(e){var a=e.listaColores,t=e.cantMateriasPorColor,r=e.totalMaterias;return Object(I.jsx)(Z.a,{className:"m-0 barra-progreso",children:a.map((function(e,a){var c=(t[a]/r*100).toFixed(2)||0;return Object(I.jsx)(Z.a,{className:"barra",style:{backgroundColor:e.color},now:c,label:"".concat(c,"%")},a)}))})}function R(e){var a,t,r=e.nums,c=e.materia,n=e.tec21,o=e.clickMateria,s=e.listaColores,i=r.numSemestre,l=r.numMateria;return Object(I.jsxs)("div",{className:"materia",style:{backgroundColor:null!==(a=null===(t=s[c.color])||void 0===t?void 0:t.color)&&void 0!==a?a:"#BF7913"},onClick:function(){return o(i,l)},children:[Object(I.jsxs)("div",{className:"labelMateria",children:[Object(I.jsx)("div",{className:"nombre-materia",children:Object(I.jsx)("label",{className:"m-0",children:c.nombre})}),Object(I.jsxs)("label",{className:"unidades d-block m-0",children:["Unidades: ",c.unidades]})]}),n&&Object(I.jsxs)(U.a,{className:"tec21 p-0 m-0 w-100",children:[Object(I.jsx)(G.a,{className:"bloque-tec21 ".concat(null!==c&&void 0!==c&&c.periodos&&(null===c||void 0===c?void 0:c.periodos[0])?"activo bg-white":"no-activo"," p-0 m-0")}),Object(I.jsx)(G.a,{className:"bloque-tec21 ".concat(null!==c&&void 0!==c&&c.periodos&&(null===c||void 0===c?void 0:c.periodos[1])?"activo bg-white":"no-activo"," p-0 m-0")}),Object(I.jsx)(G.a,{className:"bloque-tec21 ".concat(null!==c&&void 0!==c&&c.periodos&&(null===c||void 0===c?void 0:c.periodos[2])?"activo bg-white":"no-activo"," p-0 m-0")})]})]})}function W(e){var a,t=e.numSemestre,c=e.materias,n=e.tec21,o=e.colorSeleccionado,i=e.clicks,l=e.listaColores,u=Object(r.useState)(0),d=Object(s.a)(u,2),b=d[0],j=d[1],m=i.clickSemestre,h=i.clickMateria;return Object(r.useEffect)((function(){if(b>0)c.forEach((function(e){e.color===b||j(0)}));else if(c.length){var e=c[0].color,a=!0;c.forEach((function(t){t.color!==e&&(a=!1)})),a&&j(e)}}),[c,b]),Object(I.jsxs)(G.a,{xs:6,md:3,lg:!0,className:"semestre p-0 pr-1 mb-4",children:[Object(I.jsx)("div",{className:"semestre-label",style:{backgroundColor:(null===(a=l[b])||void 0===a?void 0:a.color)||"#BF7913"},onClick:function(){return m(t),void j(o)},children:Object(I.jsxs)("label",{className:"mb-1",children:["Semestre ",t+1]})}),c.map((function(e,a){return Object(I.jsx)(R,{nums:{numSemestre:t,numMateria:a},materia:e,tec21:n,clickMateria:h,listaColores:l},a)}))]})}var V=t(298),z=t(138),L=t(299),Q=t(142);function Y(e){var a=e.color,t=e.actualizarNombre,r=e.actualizarColor,c=e.borrarColor,n=e.indice;return Object(I.jsxs)(U.a,{className:"mt-5 mb-3",children:[Object(I.jsx)(G.a,{xs:5,children:Object(I.jsx)(Q.a,{color:a.color,onChange:function(e){return r(e.hex,n)}})}),Object(I.jsx)(G.a,{xs:5,children:Object(I.jsx)(V.a,{children:Object(I.jsx)(z.a,{placeholder:"Tag Color",value:a.nombre,onChange:function(e){return t(n,e.target.value)},"aria-label":"Username","aria-describedby":"basic-addon1"})})}),Object(I.jsx)(G.a,{xs:1,children:Object(I.jsx)(f.a,{variant:"danger",onClick:function(){return c(a)},children:" Borrar "})})]})}function X(e){var a=e.show,t=e.onHide,c=e.colores,n=e.cambiarColores,o=Object(r.useState)(c),i=Object(s.a)(o,2),l=i[0],u=i[1],d=function(e,a){var t=JSON.parse(JSON.stringify(l));t[e].nombre=a,u(t)},b=function(e,a){var t=JSON.parse(JSON.stringify(l));t[a].color=e,u(t)},j=function(e){u(l.filter((function(a){return a!==e})))};return Object(r.useEffect)((function(){u(c)}),[c]),Object(I.jsxs)(L.a,{show:a,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(I.jsx)(L.a.Header,{className:"modal-bg",children:Object(I.jsx)(L.a.Title,{id:"contained-modal-title-vcenter",children:"Colores"})}),Object(I.jsx)(L.a.Body,{className:"modal-bg",children:Object(I.jsxs)("div",{children:[l.map((function(e,a){return Object(I.jsx)(Y,{color:e,actualizarNombre:d,actualizarColor:b,indice:a,borrarColor:j},a)})),Object(I.jsx)(f.a,{variant:"info",onClick:function(){var e=JSON.parse(JSON.stringify(l));e.push({color:"#439630",nombre:"Color Nuevo"}),u(e)},children:"Agregar Color"})]})}),Object(I.jsxs)(L.a.Footer,{className:"modal-bg",children:[Object(I.jsx)(f.a,{variant:"danger",onClick:function(){u(c),t()},children:"Cerrar"}),Object(I.jsx)(f.a,{onClick:function(){n(l),t()},children:"Guardar"})]})]})}var _=function(e){var a=e.indice,t=e.color,r=e.cambiarColorSeleccionado,c=e.colorSeleccionado,n=e.cantMateriasPorColor,o=e.cantUnidadesPorColor;return Object(I.jsxs)("div",{className:"text-center m-1 boton-color ".concat(a===c?"seleccionado":""),style:{backgroundColor:t.color},onClick:function(){return r(a)},children:[Object(I.jsx)(U.a,{children:Object(I.jsx)(G.a,{style:{whiteSpace:"nowrap"},children:Object(I.jsx)("b",{children:t.nombre})})}),Object(I.jsx)(U.a,{children:Object(I.jsx)(G.a,{style:{whiteSpace:"nowrap"},children:"Unidades: ".concat(o[a])})}),Object(I.jsx)(U.a,{children:Object(I.jsx)(G.a,{style:{whiteSpace:"nowrap"},children:"Materias: ".concat(n[a])})})]})};function q(e){var a=e.colores,t=e.cambiarColores,c=e.cambiarColorSeleccionado,n=e.colorSeleccionado,o=e.cantMateriasPorColor,i=e.cantUnidadesPorColor,l=Object(r.useState)(!1),u=Object(s.a)(l,2),d=u[0],b=u[1];return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(G.a,{xs:12,md:2,xl:1,className:"mt-2 mb-2",children:[Object(I.jsx)(f.a,{variant:"info",className:"w-100",onClick:function(){return b(!0)},children:"Editar colores"}),Object(I.jsx)(X,{show:d,onHide:function(){return b(!1)},colores:a,cambiarColores:t})]}),Object(I.jsx)(G.a,{className:"colores-container mt-2 mb-2",children:a.map((function(e,a){return Object(I.jsx)(_,{indice:a,color:e,cambiarColorSeleccionado:c,colorSeleccionado:n,cantMateriasPorColor:o,cantUnidadesPorColor:i},a)}))})]})}var K=t.p+"static/media/refresh_white_24dp.0684a025.svg";function $(){var e=Object(r.useContext)(D),a=(e||{}).matricula,t=Object(b.e)().clave,c=Object(j.useToasts)().addToast,n=Object(r.useState)(void 0),o=Object(s.a)(n,2),l=o[0],d=o[1],m=Object(r.useState)(void 0),p=Object(s.a)(m,2),x=p[0],O=p[1],N=Object(r.useState)(1),C=Object(s.a)(N,2),w=C[0],S=C[1],A=function(e){c("Error: ".concat(e||"Hubo un error de conexi\xf3n al servidor."),{appearance:"error",autoDismiss:!0})},y=function(e,a){var t=JSON.parse(JSON.stringify(l));t.materias[e][a].color=w,d(t)},E=function(e){var a=JSON.parse(JSON.stringify(l));a.materias[e].forEach((function(e){return e.color=w})),d(a)};if(Object(r.useEffect)((function(){if(void 0!==e){var r=function(){var r=Object(i.a)(u.a.mark((function r(){var c,n,o,s,i,l,b,j;return u.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==e){r.next=13;break}return r.next=3,k.a.get("".concat(g,"/planes/").concat(t)).catch((function(e){return e}));case 3:if(!((c=r.sent)instanceof Error)){r.next=8;break}return console.log(c),window.location=v,r.abrupt("return");case 8:return(n=JSON.parse(JSON.stringify(c.data))).materias=n.materias.map((function(e){return e.map((function(e){return{clave:e.clave,nombre:e.nombre,unidades:e.unidades,color:0,periodos:e.periodos||[!1,!1,!1]}}))})),d(n),O([{color:"#BF7913",nombre:"Incompleto"},{color:"#439630",nombre:"Completo"}]),r.abrupt("return");case 13:return r.next=15,k.a.post("".concat(g,"/planificados/crearPlanificadoBase/").concat(t),{matricula:a}).catch((function(e){return e}));case 15:if(!((o=r.sent)instanceof Error)){r.next=21;break}return console.log(o),A(null===o||void 0===o||null===(s=o.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.msg),window.location=v,r.abrupt("return");case 21:l=o.data.oficial,b=o.data.planificado,j={_id:b._id,nombre:l.nombre,siglas:l.siglas,esTec21:l.esTec21,materias:l.materias.map((function(e,a){return e.map((function(e,t){var r,c,n,o;return{nombre:e.nombre,clave:e.clave,color:null!==(r=null===b||void 0===b||null===(c=b.materias)||void 0===c||null===(n=c[a])||void 0===n||null===(o=n[t])||void 0===o?void 0:o.color)&&void 0!==r?r:0,unidades:e.unidades,periodos:e.periodos||[!1,!1,!1]}}))}))},d(j),O(b.etiquetas);case 26:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()}}),[t,e,a,c]),!l||!x)return Object(I.jsx)("section",{className:"row mt-5",children:Object(I.jsxs)("div",{className:"loading-logo",style:{margin:"0 auto",textAlign:"center"},children:[Object(I.jsx)("img",{src:K,alt:"loading"}),Object(I.jsx)("p",{children:"Cargando plan de estudios..."})]})});document.title=l.nombre;var J=0,T=x.map((function(){return 0})),M=x.map((function(){return 0}));return l.materias.forEach((function(e){e.forEach((function(e){J++,T[e.color]+=1,M[e.color]+=e.unidades}))})),Object(I.jsxs)(h.a,{fluid:!0,children:[Object(I.jsx)(U.a,{className:"mt-3 justify-content-center",children:Object(I.jsx)("h2",{className:"titulo-tabla font-weight-light",children:l.nombre})}),Object(I.jsxs)(U.a,{className:"m-0 p-0 align-items-center",children:[e&&Object(I.jsx)(G.a,{xs:12,md:2,xl:1,className:"mt-2 mb-2",children:Object(I.jsx)(f.a,{className:"w-100",onClick:function(e){var t={usuario:a,siglas:l.siglas,nombre:l.nombre,etiquetas:JSON.parse(JSON.stringify(x)),materias:l.materias.map((function(e){return e.map((function(e){return{clave:e.clave,color:e.color}}))}))};k.a.put("".concat(g,"/planificados/").concat(l._id),t).then((function(e){c("\xa1Actualizaci\xf3n exitosa! ".concat(e.data),{appearance:"success",autoDismiss:!0})})).catch((function(e){var a,t;console.log(Object(P.a)({},e)),A(null===e||void 0===e||null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.msg)}))},children:" Guardar Plan "})}),Object(I.jsx)(q,{colores:x,cambiarColores:O,cambiarColorSeleccionado:S,colorSeleccionado:w,cantMateriasPorColor:T,cantUnidadesPorColor:M})]}),Object(I.jsx)(U.a,{children:Object(I.jsx)(G.a,{className:"m-0 p-0 mt-3",children:Object(I.jsx)(H,{listaColores:x,cantMateriasPorColor:T,totalMaterias:J})})}),Object(I.jsx)(U.a,{className:"mt-3",children:l.materias.map((function(e,a){return Object(I.jsx)(W,{numSemestre:a,materias:e,tec21:null===l||void 0===l?void 0:l.esTec21,colorSeleccionado:w,clicks:{clickSemestre:E,clickMateria:y},listaColores:x},a)}))})]})}var ee=t(300);function ae(){var e=Object(r.useState)([]),a=Object(s.a)(e,2),t=a[0],c=a[1],n=Object(r.useState)(""),o=Object(s.a)(n,2),i=o[0],l=o[1];Object(r.useEffect)((function(){k.a.get("".concat(g,"/planes")).then((function(e){c(e.data.map((function(e){return{nombre:e.siglas,clave:e.siglas}})))})).catch((function(e){return e}))}),[]);var u=t.filter((function(e){return e.nombre.includes(i)})).sort((function(e,a){return e.nombre.localeCompare(a.nombre)}));return Object(I.jsxs)(h.a,{fluid:!0,className:"mt-3",children:[Object(I.jsx)(U.a,{children:Object(I.jsx)("h2",{className:"mb-4",children:"Selecciona tu plan de estudios:"})}),Object(I.jsx)(U.a,{children:Object(I.jsxs)(ee.a.Group,{className:"col-12 col-md-6 col-lg-4",children:[Object(I.jsx)(ee.a.Control,{type:"text",placeholder:"Ingresa tu carrera","aria-label":"Clave del plan de estudio",onChange:function(e){return l(e.target.value.toUpperCase())}}),Object(I.jsx)(ee.a.Label,{children:"Ingresa las siglas de tu carrera:"})]})}),Object(I.jsx)(U.a,{className:"mb-3",width:"100%",children:u.map((function(e,a){var t=e.clave,r=e.nombre;return Object(I.jsx)(f.a,{className:"m-2 boton-carrera",variant:"primary",value:t,href:"".concat(v,"/#/plan/").concat(t),children:r},a)}))})]})}var te=t.p+"static/media/delete_white_24dp.b2ce69d1.svg";function re(){return(re=Object(i.a)(u.a.mark((function e(a,t){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="Se eliminar\xe1 el plan planificado: ".concat(a.nombre,". \xbfContinuar?"),window.confirm(r)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,k.a.delete("".concat(g,"/planificados/").concat(a._id)).catch((function(e){return e}));case 5:(c=e.sent)instanceof Error&&t("Error: ".concat(c.response.data.msg),{appearance:"error",autoDismiss:!0}),t("Error: ".concat(c.data.msg),{appearance:"error",autoDismiss:!0}),window.location.reload();case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){var a=e.plan,t=e.addToast;return Object(I.jsxs)("figure",{className:"planificado-summary bg-secondary",children:[Object(I.jsxs)("a",{href:"".concat(v,"/#/plan/").concat(a.siglas),target:"_blank",rel:"noreferrer",className:"plan-content text-left flex-grow-1",children:[Object(I.jsx)("p",{className:"nombre",children:a.nombre}),Object(I.jsx)("p",{className:"siglas",children:a.siglas})]}),Object(I.jsx)("div",{className:"d-flex icons-container",children:Object(I.jsx)("button",{onClick:function(){return function(e,a){return re.apply(this,arguments)}(a,t)},className:"delete-button",children:Object(I.jsx)("img",{src:te,alt:"delete"})})})]})}function ne(){return(ne=Object(i.a)(u.a.mark((function e(a,t,r){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=N({usuario:a}),e.next=3,k.a.get("".concat(g,"/planificados?").concat(c)).catch((function(e){return e}));case 3:if(!((n=e.sent)instanceof Error)){e.next=8;break}return r("Error: ".concat(n.message),{appearance:"error",autoDismiss:!0}),t(null),e.abrupt("return");case 8:t(n.data);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(){var e=Object(r.useContext)(D),a=Object(r.useState)([]),t=Object(s.a)(a,2),c=t[0],n=t[1],o=Object(j.useToasts)().addToast;return Object(r.useEffect)((function(){e&&function(e,a,t){ne.apply(this,arguments)}(e.matricula,n,o)}),[e,o]),Object(I.jsx)(h.a,{className:"text-center mt-4",children:Object(I.jsx)(U.a,{children:Object(I.jsxs)(G.a,{className:"Profile",children:[Object(I.jsx)(x.a,{className:"imagen-perfil-vista mb-4",width:128,height:128,src:null===e||void 0===e?void 0:e.urlFoto,roundedCircle:!0}),Object(I.jsx)("h2",{children:"".concat(null===e||void 0===e?void 0:e.nombre," ").concat(null===e||void 0===e?void 0:e.apellido)}),Object(I.jsx)("h2",{className:"font-weight-light",children:null===e||void 0===e?void 0:e.matricula}),Object(I.jsxs)("div",{style:{marginTop:"1.4em"},children:[!c.length&&Object(I.jsx)("p",{style:{fontSize:"2em",fontWeight:"bold"},children:"No tienes planes guardados."}),c.map((function(e){return Object(I.jsx)(ce,{plan:e,addToast:o},e.siglas)}))]})]})})})}function se(e,a){return ie.apply(this,arguments)}function ie(){return(ie=Object(i.a)(u.a.mark((function e(a,t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().catch((function(e){return e}));case 2:if(!((r=e.sent)instanceof Error)){e.next=7;break}return r.response?r.response.data.msg&&t("Error: ".concat(r.response.data.msg),{appearance:"error",autoDismiss:!0}):t("Error: Hubo un error de conexi\xf3n al servidor para validar sesi\xf3n iniciada.",{appearance:"error",autoDismiss:!0}),a(null),e.abrupt("return");case 7:a(r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=function(){var e=Object(r.useState)(void 0),a=Object(s.a)(e,2),t=a[0],c=a[1],n=Object(j.useToasts)().addToast;return Object(r.useEffect)((function(){se(c,n)}),[n]),Object(I.jsx)(d.a,{basename:v,children:Object(I.jsx)("div",{className:"App",children:Object(I.jsxs)(D.Provider,{value:t,children:[Object(I.jsx)(F,{checarSesion:function(){return se(c,n)},addToast:n}),Object(I.jsx)(b.a,{exact:!0,path:"/",component:ae}),Object(I.jsx)(b.a,{path:"/plan/:clave",component:$}),Object(I.jsx)(b.a,{path:"/perfil/:matricula",component:oe}),Object(I.jsx)("div",{className:"flex-grow-1"}),Object(I.jsx)(B,{})]})})})},ue=(t(291),function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,304)).then((function(a){var t=a.getCLS,r=a.getFID,c=a.getFCP,n=a.getLCP,o=a.getTTFB;t(e),r(e),c(e),n(e),o(e)}))});o.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(j.ToastProvider,{placement:"bottom-center",autoDismissTimeout:7e3,children:Object(I.jsx)(le,{})})}),document.getElementById("root")),ue()}},[[292,1,2]]]);
//# sourceMappingURL=main.753cd589.chunk.js.map